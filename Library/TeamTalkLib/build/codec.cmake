include (ttlib)

set (CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/MediaUtil.cpp)
set (CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/MediaUtil.h)

if (FEATURE_SPEEX)
  include (speex)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_SPEEX)
  list (APPEND CODEC_LINK_FLAGS ${SPEEX_LINK_FLAGS})
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/SpeexEncoder.cpp)
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/SpeexDecoder.cpp)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/SpeexEncoder.h)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/SpeexDecoder.h)
endif()

if (FEATURE_OPUS)
  include (opus)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_OPUS)
  list (APPEND CODEC_LINK_FLAGS ${OPUS_LINK_FLAGS})
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/OpusEncoder.cpp)
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/OpusDecoder.cpp)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/OpusEncoder.h)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/OpusDecoder.h)
endif()

if (FEATURE_LIBVPX)
  include (libvpx)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_VPX)
  list (APPEND CODEC_LINK_FLAGS ${LIBVPX_LINK_FLAGS})
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/VpxEncoder.cpp)
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/VpxDecoder.cpp)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/VpxEncoder.h)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/VpxDecoder.h)
endif()

if (FEATURE_OGG)
  include (ogg)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_OGG)
  list (APPEND CODEC_LINK_FLAGS ${OGG_LINK_FLAGS})
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/OggFileIO.cpp)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/OggFileIO.h)
endif()

if (FEATURE_OPUSTOOLS)
  include (opustools)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_OPUSTOOLS)
  list (APPEND CODEC_LINK_FLAGS ${OPUSTOOLS_LINK_FLAGS})
endif()

if (FEATURE_LAMEMP3)
  list (APPEND CODEC_COMPILE_FLAGS -DENABLE_MP3 )
  list (APPEND CODEC_INCLUDE_DIR ${TTLIBS_ROOT}/lame-3.97/Dll)
  list (APPEND CODEC_HEADERS ${TEAMTALKLIB_ROOT}/codec/LameMP3.h)
  list (APPEND CODEC_SOURCES ${TEAMTALKLIB_ROOT}/codec/LameMP3.cpp)
endif()
